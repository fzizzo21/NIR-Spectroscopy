# NIR-Spectroscopy
A 2-band NIR spectroscopy platform, with the intention of differentiating between cotton and polyester fabrics


This project was made after being curious about scientifically differentiating between these fabrics when purchasing clothes with unknown material content, especially used clothing. I thought there had to be an affordable way to do this already out there, but the cheapest device I found which can do this (easily, and portable) was about $3000 USD. This device was made with the intention of being simple and affordable, to manufacture, or purchase, if need be. 

The general idea is to pulse some infared emitter (in this project I am using 2 discrete bands rather than a wideband emitter) and receive the reflections off of the fabric with a photodiode. This photodiode signal is amplified, and demodulated, to figure out some DC level that corresponds to the reflected light off of the fabric. Cotton and polyester have much differing absorption characteristics at these wavelengths, so we can use this to differentiate between the two. I chose to use 2 discrete bands to keep costs down, and for simplicity, as I believe some higher cost alternatives use wideband emitters then optical filters, but I didn't really want to deal with optical filters and their associated costs at these wavelenths, so I am using 2 discrete emitters and normalizing them with a calibration using white PTFE sheets, and black velvet fabric. 

The emitters are part numbers MTE6114W-WRC and MTE5116W-WRC, with the sensor being MTPD1346D-010. I used the ESP32 as the microcontroller for the option to sending results to a phone over bluetooth or wifi, although I haven't worked on this development yet. The ADC is a TLA2518, as it samples fast enough for demodulation, and is relatively cheap and simple, communicating over SPI. The demodulation is done to overcome noisy environments, or possibly other NIR sources (such as heat sources), so the emitters are just PWM'ed at around 5kHz so that I know what to look for, than demodulated in hardware by essentially chopping the received signal with a 5kHz synchronized square wave to get close to a DC level (shifting the 5kHz), and filtering out other frequencies. There is also the option to just do this in software. 
